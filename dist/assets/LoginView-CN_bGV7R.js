import{d as b,u as f,r,o as h,a as g,c,b as e,e as w,f as m,t as i,w as _,g as y,h as S,v as k,n as V,i as p}from"./index-J5MGib1M.js";import{c as L}from"./createLucideIcon-BGKXoyUX.js";/**
 * @license lucide-vue-next v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=L("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),D={class:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4"},M={class:"w-full max-w-md"},R={class:"bg-white rounded-2xl shadow-xl p-8"},U={class:"flex justify-center mb-6"},j={class:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center"},z={class:"mb-6 p-3 bg-slate-50 rounded-lg text-center"},B={class:"text-xs text-slate-500"},C={class:"text-xs text-slate-400 mt-1"},N={key:0,class:"mt-2 text-sm text-red-600"},I=["disabled"],P="admin123",O=b({__name:"LoginView",setup(T){const d=g(),s=f(),a=r(""),o=r(""),l=r(!1),u=r("Загрузка...");h(()=>{try{console.log("🔍 Диагностика приложения:"),console.log("- Vue Router:",!!d),console.log("- Store:",!!s),console.log("- Аутентификация:",s.isAuthenticated.value),s.settings.value.supabaseUrl&&s.settings.value.supabaseAnonKey?console.log("✅ Supabase настройки найдены"):console.log("⚠️ Supabase настройки отсутствуют или пустые"),u.value="Приложение готово"}catch(n){console.error("❌ Ошибка инициализации:",n),u.value="Ошибка загрузки приложения"}});const v=async()=>{if(o.value="",a.value.length<6){o.value="Пароль должен содержать минимум 6 символов";return}l.value=!0,await new Promise(n=>setTimeout(n,300)),a.value===P?(s.isAuthenticated.value=!0,await d.push({name:"dashboard"})):o.value="Неверный пароль",l.value=!1};return(n,t)=>(p(),c("div",D,[e("div",M,[e("div",R,[e("div",U,[e("div",j,[w(m(A),{size:32,class:"text-white"})])]),t[2]||(t[2]=e("h1",{class:"text-2xl font-semibold text-center text-slate-900 mb-2"}," Вход в систему ",-1)),t[3]||(t[3]=e("p",{class:"text-sm text-slate-600 text-center mb-4"}," Введите пароль для доступа к панели управления ",-1)),e("div",z,[e("p",B,i(u.value),1),e("p",C," URL: "+i(m(s).settings.value.supabaseUrl||"Не настроен"),1)]),e("form",{onSubmit:_(v,["prevent"]),class:"space-y-6"},[e("div",null,[t[1]||(t[1]=e("label",{for:"password",class:"block text-sm font-medium text-slate-700 mb-2"}," Пароль ",-1)),y(e("input",{id:"password","onUpdate:modelValue":t[0]||(t[0]=x=>a.value=x),type:"password",placeholder:"Введите пароль",class:V(["w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all",{"border-red-500":o.value}])},null,2),[[k,a.value]]),o.value?(p(),c("p",N,i(o.value),1)):S("",!0)]),e("button",{type:"submit",disabled:l.value,class:"w-full bg-slate-900 text-white py-3 rounded-xl font-medium hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},i(l.value?"Вход...":"Войти"),9,I)],32)])])]))}});export{O as default};
