import{d as h,u as g,j as d,k as b,l as v,i as r,b as t,e as c,f as a,t as l,c as u,h as y,F as w,m as C,p as k}from"./index-J5MGib1M.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CJ_uuTcT.js";import{c as _}from"./createLucideIcon-BGKXoyUX.js";/**
 * @license lucide-vue-next v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=_("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=_("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),V={class:"p-8"},z={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},j={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},B={class:"flex items-center justify-between mb-4"},D={class:"text-3xl font-semibold text-slate-900"},L={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},N={class:"flex items-center justify-between mb-4"},F={class:"text-3xl font-semibold text-emerald-600"},U={class:"text-sm text-slate-500 mt-2"},$={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},A={class:"flex items-center justify-between mb-4"},E={class:"text-3xl font-semibold text-slate-600"},I={class:"text-sm text-slate-500 mt-2"},P={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},R={class:"overflow-x-auto"},T={class:"w-full"},q={class:"py-3 px-4 text-sm text-slate-900"},G={class:"py-3 px-4"},H={class:"inline-flex items-center px-3 py-1 rounded-lg bg-emerald-50 text-emerald-700 text-sm font-medium"},J={class:"py-3 px-4"},K={class:"inline-flex items-center px-3 py-1 rounded-lg bg-slate-100 text-slate-700 text-sm font-medium"},O={class:"py-3 px-4 text-sm font-medium text-slate-900"},Q={class:"py-3 px-4"},W={class:"flex items-center gap-2"},X={class:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden"},Y={class:"text-sm text-slate-600 font-medium"},Z={key:0,class:"text-center py-12"},at=h({__name:"DashboardView",setup(tt){const o=g(),i=d(()=>o.messageStats.value.reduce((n,e)=>n+e.agentCount,0)),x=d(()=>o.messageStats.value.reduce((n,e)=>n+e.managerCount,0)),m=d(()=>i.value+x.value),p=d(()=>m.value===0?0:Math.round(i.value/m.value*100));return(n,e)=>(r(),b(M,null,{default:v(()=>[t("div",V,[e[7]||(e[7]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-semibold text-slate-900 mb-2"},"Дашборд"),t("p",{class:"text-slate-600"},"Статистика ответов агента и менеджера")],-1)),t("div",z,[t("div",j,[t("div",B,[e[0]||(e[0]=t("h3",{class:"text-sm font-medium text-slate-600"},"Всего ответов",-1)),c(a(S),{size:20,class:"text-slate-400"})]),t("p",D,l(m.value),1),e[1]||(e[1]=t("p",{class:"text-sm text-slate-500 mt-2"},"За выбранный период",-1))]),t("div",L,[t("div",N,[e[2]||(e[2]=t("h3",{class:"text-sm font-medium text-slate-600"},"Ответы агента",-1)),c(a(f),{size:20,class:"text-emerald-500"})]),t("p",F,l(i.value),1),t("p",U,l(p.value)+"% от всех ответов",1)]),t("div",$,[t("div",A,[e[3]||(e[3]=t("h3",{class:"text-sm font-medium text-slate-600"},"Ответы менеджера",-1)),c(a(f),{size:20,class:"text-slate-500"})]),t("p",E,l(x.value),1),t("p",I,l(100-p.value)+"% от всех ответов",1)])]),t("div",P,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-6"},"Детальная статистика",-1)),t("div",R,[t("table",T,[e[4]||(e[4]=t("thead",null,[t("tr",{class:"border-b border-slate-200"},[t("th",{class:"text-left py-3 px-4 text-sm font-medium text-slate-600"},"Дата"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-slate-600"},"Ответы агента"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-slate-600"},"Ответы менеджера"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-slate-600"},"Всего"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-slate-600"},"% агента")])],-1)),t("tbody",null,[(r(!0),u(w,null,C(a(o).messageStats.value,s=>(r(),u("tr",{key:s.date,class:"border-b border-slate-100 hover:bg-slate-50 transition-colors"},[t("td",q,l(new Date(s.date).toLocaleDateString("ru-RU")),1),t("td",G,[t("span",H,l(s.agentCount),1)]),t("td",J,[t("span",K,l(s.managerCount),1)]),t("td",O,l(s.agentCount+s.managerCount),1),t("td",Q,[t("div",W,[t("div",X,[t("div",{class:"h-full bg-emerald-500 rounded-full",style:k({width:`${s.agentCount/(s.agentCount+s.managerCount)*100}%`})},null,4)]),t("span",Y,l(Math.round(s.agentCount/(s.agentCount+s.managerCount)*100))+"% ",1)])])]))),128))])]),a(o).messageStats.value.length===0?(r(),u("div",Z,[...e[5]||(e[5]=[t("p",{class:"text-slate-500"},"Нет данных для отображения",-1)])])):y("",!0)])])])]),_:1}))}});export{at as default};
