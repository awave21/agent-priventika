# üîç –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏ API Klientiks

## üìã –ü–æ–ª—É—á–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞

```json
{
  "success": false,
  "error": "Failed to create appointment",
  "reason": "–û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ. Somebody with user id:130673 Have tried to break BPermissionValidator with following circumstances: model - Clients, attribute - client_id, attribute value - 15206380, for the field - id, and the request was sent to restapi with these request widgets - . –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ –≤—Ä–µ–º—è.",
  "details": {
    "client_id": ["–û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ. Somebody with user id:130673 Have tried to break BPermissionValidator..."],
    "start_datetime": ["–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ –≤—Ä–µ–º—è."]
  }
}
```

## üîç –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –æ—à–∏–±–∫–∏

### 1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ (client_id)**
```
"–û—Ç–∫–∞–∑–∞–Ω–æ –≤ –¥–æ—Å—Ç—É–ø–µ. Somebody with user id:130673 Have tried to break BPermissionValidator 
with following circumstances: model - Clients, attribute - client_id, 
attribute value - 15206380, for the field - id"
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID `130673` (—ç—Ç–æ –≤—Ä–∞—á —Å `doctor_id: 130671`) –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–ª–∏–µ–Ω—Ç—É —Å ID `15206380`
- –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Klientiks (`BPermissionValidator`) –±–ª–æ–∫–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç –¥–æ—Å—Ç—É–ø
- –í—Ä–∞—á –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

### 2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–∞ (start_datetime)**
```
"–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ –≤—Ä–µ–º—è."
```

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –í—Ä–∞—á —Å ID `130671` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è `2025-10-24 14:00:00`
- –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –∫–æ–≥–¥–∞ –≤—Ä–∞—á –¥–æ—Å—Ç—É–ø–µ–Ω

## üö® –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫

### **–ü—Ä–∏—á–∏–Ω–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
- –í—Ä–∞—á `130671` –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ `15206380`
- –í–æ–∑–º–æ–∂–Ω–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —ç—Ç–æ–º—É –≤—Ä–∞—á—É –≤ —Å–∏—Å—Ç–µ–º–µ
- –ò–ª–∏ —É –≤—Ä–∞—á–∞ –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–∞–±–æ—Ç—É —Å —ç—Ç–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º

### **–ü—Ä–∏—á–∏–Ω–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è**
- –í—Ä–µ–º—è `2025-10-24 14:00:00` –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã –≤—Ä–∞—á–∞
- –í—Ä–∞—á –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —á–µ—Ç–≤–µ—Ä–≥ –∏–ª–∏ –≤ —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### **–†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID**
–ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `user_id` –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≤—Ä–∞—á—É `130671`
- –ò–ª–∏ `doctor_id` –≤—Ä–∞—á–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ `15206380`

### **–†–µ—à–µ–Ω–∏–µ 2: –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è**
–ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –∫–æ–≥–¥–∞ –≤—Ä–∞—á `130671` —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –≤—Ä–∞—á–∞
- –í—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –≤ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–∞—Ö
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Ä–µ–º—è —Å–≤–æ–±–æ–¥–Ω–æ

### **–†–µ—à–µ–Ω–∏–µ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ Klientiks**
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É Klientiks
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Ä–∞—á–∞ ID `130671`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤—Ä–∞—á–∞
4. –ù–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤—Ä–∞—á-–∫–ª–∏–µ–Ω—Ç-–≤—Ä–µ–º—è

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è:
```bash
curl -k -X POST "https://agent.integration-ai.ru/api/create-appointment.php" \
-H "Content-Type: application/json" \
-d '{
  "user_id": 15206380,
  "doctor_id": 130671,
  "time": "2025-10-25 10:00:00",
  "timeplus": "2025-10-25 11:00:00"
}'
```

### –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –≤—Ä–∞—á–∞:
```bash
curl -k -X POST "https://agent.integration-ai.ru/api/create-appointment.php" \
-H "Content-Type: application/json" \
-d '{
  "user_id": 15206380,
  "doctor_id": 130672,
  "time": "2025-10-24 14:00:00",
  "timeplus": "2025-10-24 15:00:00"
}'
```

## üìù –í—ã–≤–æ–¥—ã

–û—à–∏–±–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ:
1. ‚úÖ **API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - –ø–æ–ª–µ `services` –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
2. ‚úÖ **–ü—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–æ**
3. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –¥–∞–Ω–Ω—ã—Ö** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≤—Ä–∞—á-–∫–ª–∏–µ–Ω—Ç-–≤—Ä–µ–º—è
4. üîß **–ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ —Å–∏—Å—Ç–µ–º—ã Klientiks

API —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ —Å–∏—Å—Ç–µ–º—ã Klientiks.